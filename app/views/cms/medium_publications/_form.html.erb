<%= form_for([:cms, @medium_publication], class: 'form') do |f| %>
  <% if @medium_publication.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@medium_publication.errors.count, "error") %> prohibited this medium_publication from being saved:</h2>

      <ul>
      <% @medium_publication.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div class="form-group">
    <%= f.label :title %>
    <%= f.text_field :title, class: 'form-control' %>
  </div>
  <div class="form-group">
    <%= f.label :url %>
    <%= f.text_field :url, class: 'form-control' %>
  </div>
  <div class="form-group">
    <%= f.label :blog_type %>
    <%= f.select :blog_type, MediumPublication::BLOG_TYPES, {}, class: 'form-control' %>
  </div>
  <div class="form-group curriculum-input <%= 'hidden' if @medium_publication.blog_type != 'curriculum' %>">
    <%= f.label :curriculum %>
    <%= f.text_field :curriculum, class: 'form-control' %>
  </div>
  <div class="form-group">
    <%= f.label :position %>
    <%= f.number_field :position, class: 'form-control' %>
  </div>
  <div class="form-group">
    <%= f.label :display %>
    <%= f.check_box :display, class: 'form-control' %>
  </div>
  <div class="form-group">
    <%= f.submit class: 'btn btn-primary' %>
  </div>
<% end %>
<%= content_for :javascripts do %>
  <%= javascript_tag do %>
    $(function(){
      $("#medium_publication_blog_type").change(function(){
        var blog_type = $(this).val();
        if (blog_type == 'curriculum') {
          $('.curriculum-input').removeClass('hidden');
        } else {
          $('.curriculum-input').addClass('hidden');
        }
      })
    })
  <% end %>
<% end %>
