<%= form_for([:cms, @notification_trigger], class: 'form') do |f| %>
  <% if @notification_trigger.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@notification_trigger.errors.count, "error") %> prohibited this notification_trigger from being saved:</h2>

      <ul>
      <% @notification_trigger.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>
  <div class="form-group">
    <%= f.label :target_type %>
    <%= f.select :target_type, NotificationTrigger::TARGET_TYPES, {}, class: 'form-control' %>
  </div>
  <div class="form-group target-input" data-input="single_user">
    <%= f.label :single_user %>
    <div>
      <%= f.hidden_field :single_user_id, style: 'width: 300px' %>
    </div>
  </div>
  <div class="form-group hidden target-input" data-input="group_users">
    <%= f.label :group_users %>
    <div>
      <%= f.hidden_field :user_ids, style: 'width: 300px' %>
    </div>
  </div>
  <div class="form-group hidden target-input" data-input="school_district">
    <%= f.label :school_district_admin %>
    <div>
      <%= f.hidden_field :school_district_admin_user_id, style: 'width: 300px'  %>
    </div>
  </div>
  <div class="form-group hidden target-input" data-input="user_type">
    <%= f.label :user_type %>
    <%= f.select :user_type, USER_TITLES, {}, class: 'form-control' %>
  </div>
  <div class="form-group hidden target-input" data-input="curriculum_users">
    <%= f.label :curriculum %>
    <%= f.collection_select :curriculum_id, Curriculum.visibles, :id, :name, {}, class: 'form-control' %>
  </div>
  <div class="form-group" style="position: relative;">
    <%= f.label :notify_at %>
    <%= f.text_field :notify_at, class: 'form-control datetime-picker' %>
  </div>
  <div class="form-group">
    <%= f.label 'Send to dashboard notification' %>
    <div>
      <%= f.check_box :dashboard %>
    </div>
  </div>
  <div class="form-group">
    <%= f.label 'Send via email' %>
    <div>
      <%= f.check_box :email %>
    </div>
  </div>
  <div class="alert alert-warning">
    <small><i class="fa fa-warning"></i> Please note: If you are embedding a URL you can use an HTML link (like this: &lt;a href="http://www.example.com"&gt;link &lt;/a&gt;) but please be sure to use a full URL which is prefixed with "<strong>http://</strong>" or "<strong>https://</strong>".</small>
  </div>
  <div class="form-group">
    <%= f.label :content %>
    <%= f.text_area :content, class: 'form-control' %>
  </div>
  <div class="form-group">
    <%= f.submit class: 'btn btn-primary' %>
  </div>
<% end %>
<%= render 'form_js' %>
