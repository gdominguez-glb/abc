<nav id="categoryFilters" class="panel-group margin-bottom--reset" data-hook>
  <div class="dropdown dropdown-md">
    <button class="btn btn-default btn-block dropdown-toggle dropdown-md-btn margin-bottom--reset" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
      Grade Band
      <i class="dropdown-md-mi mi md-24 toggle-arrow">keyboard_arrow_down</i>
    </button>
    <ul class="dropdown-menu dropdown-md-menu <%= 'custom-activated' if (RegonlineEvent::FILTER_GRADE_BANDS & params.try(:[], :grade_bands)).present? %>">
      <% RegonlineEvent::FILTER_GRADE_BANDS.each do |grade| %>
        <% active = params.try(:[], :grade_bands).include? grade %>
        <% link = params.merge(grade_bands: params[:grade_bands] - [grade]) %>
        <% link = params.merge(grade_bands: params[:grade_bands] + [grade]) unless active %>
        <li class="dropdown-md-item">
          <%= link_to link, class: "dropdown-md-link #{'active' if active}" do %>
            <%= grade %>
            <% if active %>
              <i class="mi dropdown-md-mi">close</i>
            <% end %>
          <% end %>
        </li>
      <% end %>
    </ul>
  </div>
</nav>
